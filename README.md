# Отборочный экзамен для трека CV "Детекция логотипа Т-Банка"

### Цель

Разработать REST API сервис для автоматического поиска и детекции логотипа Т-Банка на изображениях.

<p align="center">
  <img src="docs/t-bank-logo.png"/>
  <br/>
  <em>Логотип Т-Банка</em>
</p>

### Задачи

1. Провести разметку датасета для обучения модели.

2. Обучить модель для детекции логотипа Т-Банка на полученном датасете.

3. Подготовить валидационный набор данных и посчитать метрики качества.

4. Реализовать REST API сервис с эндпоинтом `/detect`, который принимает изображение и возвращает координаты найденных логотипов.

5. Упаковать решение в Docker контейнер, запускающий сервис на порту `8000`.

6. Подготовить документацию.




<!-- 


### Данные // пререквизиты

https://data.tinkoff.ru/s/YsqPKQkapc5xKMb (password: `7*5\Lq=Oik`)

Мы предоставляем вам неразмеченный датасет для обучения и валидации, содержащий:

* Большое количество изображений различного содержания
* Изображения с логотипами Т-банка в различных условиях (разные размеры, углы поворота, освещение)
* Изображения без логотипов (для тестирования на ложные срабатывания)

Вы так же можете пополнять датасет для обучения любыми доступными вам способами. У организаторов остается размеченный приватный набор данных для проверки ваших решений.


Создать REST API сервис для автоматического поиска и детекции логотипа Т-Банка на изображениях.

Создать REST API сервис, который обнаруживает логотип Т-Банка на загружаемых изображениях и возвращает координаты найденных логотипов.

### Ограничения

* Время обработки: не более `10` секунд на изображение
* Железо: Возможность запуска на видеокарте с 16GB видеопамяти (уровня google collab T4)
* Поддерживаемые форматы: `JPEG, PNG, BMP, WEBP`
* Порт сервиса: `8000`
* API: согласно описанному контракту
Требования:

1.


Логотип представляет собой стилизованную букву "Т" в щите *(при этом цвет может быть как желтый, так и произвольный)*. Для этого потребуется некоторым образом разметить данный для того, чтобы собирать на их основе свое решение. Так же вам предстоит составить свой валидационный набор данных и реализовать подсчет качества своего решения на нем.



### Ожидаемый формат решения

По результатам работы необходимо предоставить публичный GitHub репозиторий с полным исходным кодом решения. Решение должно быть упаковано в Docker контейнер, который запускается одной командой и поднимает REST API сервис на порту `8000`. API должен строго соответствовать предоставленной Pydantic спецификации с эндпоинтом `/detect` для загрузки изображений и получения координат найденных логотипов. В корне репозитория обязательно должен находиться файл `README.md` с подробными инструкциями по сборке и запуску Docker контейнера.

Дополнительно в `README.md` необходимо описать подход к решению задачи с достаточной степенью подробности. Веса обученной модели можете выложить на любой открытый файлообменник и приложить ссылку на их скачивание в `README.md`.

Так же вам необходимо реализовать скрипт валидации качества решения и подсчета метрик на отобранных и размеченных примерах. Для оценки воспроизводимости результата валидационную выборку необходимо по аналогии с моделью выложить в открытый доступ (github и/или открытый файлообменник).

### Критерии оценивания

1. **Точность детекции (25%)**
   * Precision и Recall на закрытом тестовом наборе, основной метрикой будет считать F1-score при IoU=0.5
2. **Техническое качество (25%)**
   * Качество кода и архитектуры
   * Обработка ошибок
   * Производительность (время обработки)
   * Использование best practices
3. **Документация (40%)**
   * Качество README.md
   * Подробное описание подхода к решению
   * Описание процесса работы с данными в процессе подготовки к решению.
   * Инструкции по запуску и использованию
   * Результаты работы модели на вашей валидационной выборке (с отрисоваными результатами детекции)
4. **Дополнительные (в свободном формате) (10%)**
   * Предложения альтернативных подходов к решению
   * Проведенный анализ проблем решения и рассуждения по возможности их решения
   * Проведенный анализ производительности решения и предложение вариантов по его ускорению

### Подсказки

* Используйте **zero-shot** подходы для подготовки разметки данных.
* Обратите внимание на предобработку изображений и обработку negative примеров.
* Тестируйте решение на различных типах изображений, уделите время проверке качества разметки вашей валидационной выборки.
* Документируйте свои эксперименты и выбор подхода в процессе работы.
* Обращайте внимание на качество оформления `README.md`, пишите свои шаги по решению максимально подробно, документация будет проверяться в первую очередь.
* Вы свободны обогощать обучающую выборку данными из любых источников.

Удачи!

1. Пробовал разметить датасет с помощью zero shot, с различными формулировками промта для grounding DINO. В итоге не привело ни к чему хорошему. Пришлось делать разметку в ручную на roboflow
2. -->